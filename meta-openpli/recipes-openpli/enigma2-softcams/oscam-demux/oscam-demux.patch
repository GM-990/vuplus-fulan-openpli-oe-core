--- a/globals.h	2018-11-18 14:28:44.000000000 +0200
+++ b/globals.h	2018-11-18 14:54:58.682927403 +0200
@@ -1007,6 +1007,7 @@
 	uchar           cw[16];
 	EXTENDED_CW     cw_ex;
 	uchar           ecmd5[CS_ECMSTORESIZE];
+	int8_t          demux_index;
 	int16_t         ecmlen;
 	uint16_t        caid;
 	uint16_t        ocaid;              //original caid, used for betatunneling
@@ -1471,6 +1472,7 @@
 	LLIST           *ll_entitlements;               // entitlements
 	int8_t          enable;
 	int8_t          active;
+	int8_t          for_demux;                      // set demux number for which use this reader
 	int8_t          dropbadcws;                     // Schlocke: 1=drops cw if checksum is wrong. 0=fix checksum (default)
 	int8_t          disablecrccws;                  // 1=disable cw checksum test. 0=enable checksum check
 	uint64_t        grp;
--- a/module-dvbapi.c	2018-11-18 14:28:44.000000000 +0200
+++ b/module-dvbapi.c	2018-11-18 15:00:54.040934556 +0200
@@ -2069,6 +2069,7 @@
 			}
 		}
 	}
+	er->demux_index = demux_id;
 	er->srvid = demux[demux_id].program_number;
 	er->caid  = demux[demux_id].ECMpids[pid].CAID;
 	er->pid   = demux[demux_id].ECMpids[pid].ECM_PID;
@@ -2568,6 +2569,7 @@
 		for(n = 0; n < demux[demux_index].ECMpidcount; n++)
 		{
 			if(demux[demux_index].ECMpids[n].status == -1) continue; // skip ignores!
+			er->demux_index = demux_index;
 			er->caid = er->ocaid = demux[demux_index].ECMpids[n].CAID;
 			er->prid = demux[demux_index].ECMpids[n].PROVID;
 			er->pid = demux[demux_index].ECMpids[n].ECM_PID;
@@ -2637,6 +2639,7 @@
 
 		int32_t nr;
 		SIDTAB *sidtab;
+		er->demux_index = demux_index;
 		er->caid = er->ocaid = demux[demux_index].ECMpids[n].CAID;
 		er->prid = demux[demux_index].ECMpids[n].PROVID;
 		er->pid = demux[demux_index].ECMpids[n].ECM_PID;
@@ -2703,6 +2706,7 @@
 
 		if(demux[demux_index].ECMpids[n].status == -1) continue; // skip ignores!
 
+		er->demux_index = demux_index;
 		er->caid = er->ocaid = demux[demux_index].ECMpids[n].CAID;
 		er->prid = demux[demux_index].ECMpids[n].PROVID;
 		er->pid = demux[demux_index].ECMpids[n].ECM_PID;
@@ -2760,6 +2764,7 @@
 				cacheexprio = max_local_matching_reader+p_order+1;
 			}
 
+			er->demux_index = demux_index;
 			er->caid = er->ocaid = demux[demux_index].ECMpids[n].CAID;
 			er->prid = demux[demux_index].ECMpids[n].PROVID;
 			er->pid = demux[demux_index].ECMpids[n].ECM_PID;
@@ -4410,6 +4415,7 @@
 					return;
 				}
 
+				er->demux_index = demux_id;
 				er->srvid = demux[demux_id].program_number;
 
 #ifdef WITH_STAPI5
@@ -4453,6 +4459,7 @@
 			return;
 		}
 
+		er->demux_index = demux_id;
 		er->srvid = demux[demux_id].program_number;
 
 #ifdef WITH_STAPI5
--- a/oscam-chk.c	2018-11-18 14:28:45.000000000 +0200
+++ b/oscam-chk.c	2018-11-18 15:03:34.244012982 +0200
@@ -733,6 +733,10 @@
 	if(!cl || !rdr->enable)
 		{ return (0); }
 
+	//Checking demux number for which use this reader if it is specified in config:
+	if((rdr->for_demux >= 0) && (er->demux_index != rdr->for_demux)) 
+		{ return (0); }
+
 	// if physical reader a card needs to be inserted
 	if(!is_network_reader(rdr) && rdr->card_status != CARD_INSERTED)
 		{ return (0); }
--- a/oscam-config-reader.c	2018-11-18 14:28:44.000000000 +0200
+++ b/oscam-config-reader.c	2018-11-18 15:05:43.135264774 +0200
@@ -815,6 +815,7 @@
 	DEF_OPT_STR("description"           , OFS(description),             NULL),
 #endif
 	DEF_OPT_INT8("enable"               , OFS(enable),                  1),
+	DEF_OPT_INT8("use_for_demux"        , OFS(for_demux),               -1),
 	DEF_OPT_FUNC("protocol"             , 0,                            protocol_fn),
 	DEF_OPT_FUNC("device"               , 0,                            device_fn),
 	DEF_OPT_HEX("key"                   , OFS(ncd_key),                 SIZEOF(ncd_key)),
--- a/config.h	2018-11-18 14:28:44.000000000 +0200
+++ b/config.h	2018-11-18 15:53:04.766387349 +0200
@@ -3,73 +3,73 @@
 
 #define WEBIF 1
 #define WEBIF_LIVELOG 1
-#define WEBIF_JQUERY 1
+//#define WEBIF_JQUERY 1
 #define TOUCH 1
 //#define WITH_SSL 1
 #if defined(__linux__) || defined(__CYGWIN__)
 #define HAVE_DVBAPI 1
 #endif
 //#define WITH_NEUTRINO 1
-#define READ_SDT_CHARSETS 1
+//#define READ_SDT_CHARSETS 1
 #define CLOCKFIX 1
-#define IRDETO_GUESSING 1
-#define CS_ANTICASC 1
-#define WITH_DEBUG 1
-#define WITH_LB 1
-#define CS_CACHEEX 1
-#define CW_CYCLE_CHECK 1
+//#define IRDETO_GUESSING 1
+//#define CS_ANTICASC 1
+//#define WITH_DEBUG 1
+//#define WITH_LB 1
+//#define CS_CACHEEX 1
+//#define CW_CYCLE_CHECK 1
 //#define LCDSUPPORT 1
 //#define LEDSUPPORT 1
 //#define IPV6SUPPORT 1
-#define MODULE_MONITOR 1
+//#define MODULE_MONITOR 1
 
 //#define MODULE_CAMD33 1
 #define MODULE_CAMD35 1
 #define MODULE_CAMD35_TCP 1
-#define MODULE_NEWCAMD 1
-#define MODULE_CCCAM 1
-#define MODULE_CCCSHARE 1
-#define MODULE_GBOX 1
-#define MODULE_RADEGAST 1
-#define MODULE_SERIAL 1
-#define MODULE_CONSTCW 1
-#define MODULE_PANDORA 1
-#define MODULE_GHTTP 1
-#define MODULE_SCAM 1
+//#define MODULE_NEWCAMD 1
+//#define MODULE_CCCAM 1
+//#define MODULE_CCCSHARE 1
+//#define MODULE_GBOX 1
+//#define MODULE_RADEGAST 1
+//#define MODULE_SERIAL 1
+//#define MODULE_CONSTCW 1
+//#define MODULE_PANDORA 1
+//#define MODULE_GHTTP 1
+//#define MODULE_SCAM 1
 
-#define WITH_CARDREADER 1
+//#define WITH_CARDREADER 1
 
 #ifdef WITH_CARDREADER
 
-#define READER_NAGRA 1
+//#define READER_NAGRA 1
 //#define READER_NAGRA_MERLIN 1
-#define READER_IRDETO 1
-#define READER_CONAX 1
-#define READER_CRYPTOWORKS 1
-#define READER_SECA 1
-#define READER_VIACCESS 1
-#define READER_VIDEOGUARD 1
-#define READER_DRE 1
-#define READER_TONGFANG 1
-#define READER_BULCRYPT 1
-#define READER_GRIFFIN 1
-#define READER_DGCRYPT 1
-
-#define CARDREADER_PHOENIX 1
-#define CARDREADER_INTERNAL 1
-#define CARDREADER_MP35 1
-#define CARDREADER_SC8IN1 1
-#define CARDREADER_SMARGO 1
-#define CARDREADER_DB2COM 1
-#define CARDREADER_STINGER 1
-#define CARDREADER_DRECAS 1
+//#define READER_IRDETO 1
+//#define READER_CONAX 1
+//#define READER_CRYPTOWORKS 1
+//#define READER_SECA 1
+//#define READER_VIACCESS 1
+//#define READER_VIDEOGUARD 1
+//#define READER_DRE 1
+//#define READER_TONGFANG 1
+//#define READER_BULCRYPT 1
+//#define READER_GRIFFIN 1
+//#define READER_DGCRYPT 1
+
+//#define CARDREADER_PHOENIX 1
+//#define CARDREADER_INTERNAL 1
+//#define CARDREADER_MP35 1
+//#define CARDREADER_SC8IN1 1
+//#define CARDREADER_SMARGO 1
+//#define CARDREADER_DB2COM 1
+//#define CARDREADER_STINGER 1
+//#define CARDREADER_DRECAS 1
 
 #ifdef WITH_PCSC
-#define CARDREADER_PCSC 1
+//#define CARDREADER_PCSC 1
 #endif
 
 #ifdef WITH_LIBUSB
-#define CARDREADER_SMART 1
+//#define CARDREADER_SMART 1
 #endif
 
 // CARDREADER_INTERNAL_{AZBOX,COOLAPI,SCI} are internal variables
@@ -85,15 +85,15 @@
 #endif
 
 #ifdef WITH_STAPI
-#define CARDREADER_STAPI 1
+//#define CARDREADER_STAPI 1
 #endif
 
 #ifdef WITH_STAPI5
-#define CARDREADER_STAPI5 1
+//#define CARDREADER_STAPI5 1
 #endif
 
 #ifdef READER_DRE
-#define READER_DRECAS 1
+//#define READER_DRECAS 1
 #endif
 
 #endif // WITH_CARDREADER
